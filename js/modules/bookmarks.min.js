async function checkIdb(){const e=await db.readKeys();let n;0!==e.length?(getPokemonsOnDb(),getRespNavbar(),getListButton()):(n='\n  <div class="modal is-active">\n    <div class="modal-background"></div>\n      <div class="modal-content">\n      <div class="box">\n      <img src="/assets/empty-removebg-preview.webp" alt="empty box"/>\n        <p>Unfortunately, you haven\'t saved anything to your favorites page yet. \n        Save something Pok√©mon-related that you like and \n        come back to see your collection.</p>\n        <br/>\n        <span>You will be redirected to the main page shortly.</span>\n      </div>\n    </div>\n  </div>\n    ',document.body.insertAdjacentHTML("beforeend",n),setTimeout(()=>{window.location.href="index.html"},6e3))}async function getPokemonsOnDb(){const e=await db.readValues(),n=el("#poke-grid");n.innerHTML="",el("#loader").classList.remove("is-hidden");let i="";e.forEach(e=>{i+=`\n      <div class="cell float-box" id="pokemon-${e.id}">\n        <div class="box is-unselectable grid is-justify-items-center is-poke-background is-relative">\n          <div id="poke-card-${e.id}" class="overlay z-0" style="background-color: ${e.bgColor};"></div>\n          <div id="like-${e.id}" class="like like-box is-clickable" data-liked="true">\n            <span class="icon">\n              <svg\n                class="like-icon liked"\n                xmlns="http://www.w3.org/2000/svg"\n                viewBox="0 0 24 24"\n              >\n                <path\n                  d="M12,21.35L10.55,20.03C5.4,15.36 2,12.27 2,8.5C2,5.41 4.42,3 7.5,3C9.24,3 10.91,3.81 12,5.08C13.09,3.81 14.76,3 16.5,3C19.58,3 22,5.41 22,8.5C22,12.27 18.6,15.36 13.45,20.03L12,21.35Z"\n                />\n              </svg>\n            </span>\n          </div>\n          <figure class="image is-128x128 is-unselectable">\n            <img src="${e.imageUrl}" />\n          </figure>\n          <div class="content">\n            <p class="is-size-5 has-text-centered is-capitalized is-relative z-0 ">\n              <strong class="is-family-secondary">${e.name}</strong>\n            </p>\n            <div class="buttons">\n              <a onclick="viewDetails(${e.id})" class="button is-primary">\n                <strong> Mehr Info </strong>\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n    `}),n.innerHTML=i,el("#loader").classList.add("is-hidden"),e.forEach(e=>{getNotLike(e.id)})}async function getNotLike(e){const n=el(`#like-${e}`);n.addEventListener("click",async function(){const n=el(`#pokemon-${e}`);n?n.remove():console.error(`Element #pokemon-${e} not found in DOM`),db.deleteItem(e);const i=await db.readKeys();if(0===i.length){const e=el("#like-page");e&&e.remove(),setTimeout(()=>{window.location.href="index.html"},500)}})}function viewDetails(e){window.location.href=`single.html?id=${e}`}import{db}from"./db.js";import{el}from"./lib.js";import{getListButton,getRespNavbar}from"./menu.js";window.viewDetails=viewDetails,checkIdb();