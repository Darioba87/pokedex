function showMap(){map=L.map("map").setView(center,2),L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(map)}async function fetchInfo(){const e=await loadJson("data/pokemon_geojson_data.geojson");getList(e),getResults(e)}async function getColors(){pokemonColors=await loadJson("data/pokemon_types_with_colors.json")}function getList(e){const t=el("#search"),o=el("#suggestions");document.addEventListener("click",e=>{o.contains(e.target)||e.target===t||o.classList.add("is-hidden")}),t.addEventListener("input",()=>{const s=t.value.toLowerCase();if(o.innerHTML="",s){const n=e.features.filter(e=>e.properties.name.toLowerCase().includes(s));n.length?(n.forEach(e=>{const s=create("div");s.className="suggestion-item",s.textContent=`${e.properties.name} - ${e.properties.city}`,s.addEventListener("click",()=>{t.value=e.properties.name,o.classList.add("is-hidden");const s=pokemonMarkers[e.properties.name.toLowerCase()];s&&(map.setView(s.getLatLng(),8),s.openPopup())}),o.appendChild(s)}),o.classList.remove("is-hidden")):o.classList.add("is-hidden")}else o.classList.add("is-hidden"),map.setView(center,2),map.closePopup()})}function getResults(e){L.geoJSON(e,{onEachFeature:function(e,t){const o=e.properties.terrain.toLowerCase(),s=pokemonColors[o]||"rgba(0, 0, 0, 0.8)";t.bindPopup(`\n       <div class="content box" style="background-color:${s};">\n          <h3>${e.properties.name}</h3>\n          <p class="title is-6">City: <br/>${e.properties.city}</p>\n          <p class="title is-6">Evolutions: <br/>${e.properties.evolutions.length>0?e.properties.evolutions.join(", "):"there is no known evolution"}</p>\n          <img src="${e.properties.image_url}" alt="${e.properties.name}" style="width: 100px;">\n       </div>\n        `),pokemonMarkers[e.properties.name.toLowerCase()]=t}}).addTo(map)}async function init(){await getColors(),showMap(),await fetchInfo()}import"../leaflet/leaflet.js";import{loadJson,el,create}from"./lib.js";let map;const center=[0,0];let pokemonColors={},pokemonMarkers={};init();